/**
 * @file miktex/Archive/vi/Version.h
 * @defgroup MiKTeX Archive
 * @author Christian Schenk
 * @brief Library version information for MiKTeX Archive
 *
 * @copyright Copyright Â© 1996-2025 Christian Schenk
 *
 * This file is part of the MiKTeX Archive Library.
 *
 * MiKTeX Archive Library is licensed under GNU General Public License version 2
 * or any later version.
 */

#pragma once

#include <miktex/Archive/config.h>

#include <string>
#include <vector>

#include <miktex/Core/LibraryVersion>

#define MIKTEX_ARCHIVE_VI_BEGIN_NAMESPACE   \
    MIKTEX_ARCHIVE_BEGIN_NAMESPACE          \
    namespace vi {

#define MIKTEX_ARCHIVE_VI_END_NAMESPACE     \
    }                                       \
    MIKTEX_ARCHIVE_END_NAMESPACE

MIKTEX_ARCHIVE_VI_BEGIN_NAMESPACE;

class MIKTEXNOVTABLE Runtime
{

public:

    Runtime() = delete;
    Runtime(const Runtime& other) = delete;
    Runtime& operator=(const Runtime& other) = delete;
    Runtime(Runtime&& other) = delete;

    Runtime& operator=(Runtime&& other) = delete;

    ~Runtime() = delete;

    static MIKTEXARCHIVECEEAPI(std::string) GetName();
    static MIKTEXARCHIVECEEAPI(std::string) GetDescription();
    static MIKTEXARCHIVECEEAPI(int) GetInterfaceVersion();
    static MIKTEXARCHIVECEEAPI(MiKTeX::Core::VersionNumber) GetVersion();
    static MIKTEXARCHIVECEEAPI(std::vector<MiKTeX::Core::LibraryVersion>) GetDependencies();
};

class MIKTEXNOVTABLE Header
{

public:

    Header() = delete;
    Header(const Header& other) = delete;
    Header& operator=(const Header& other) = delete;
    Header(Header&& other) = delete;
    Header& operator=(Header&& other) = delete;
    ~Header() = delete;

    static std::string GetName()
    {
        return "MiKTeX Archive Extractor";
    }

    static std::string GetDescription()
    {
        return "@MIKTEX_COMP_DESCRIPTION@";
    }

    static int GetInterfaceVersion()
    {
        return @MIKTEX_COMP_INTERFACE_VERSION@;
    }

    static MiKTeX::Core::VersionNumber GetVersion()
    {
        return MiKTeX::Core::VersionNumber(@MIKTEX_COMP_MAJOR_VERSION@, @MIKTEX_COMP_MINOR_VERSION@, @MIKTEX_COMP_PATCH_VERSION@, 0);
    }
};

class MIKTEXNOVTABLE Version
{

public:

    Version() = delete;
    Version(const Version& other) = delete;
    Version& operator=(const Version& other) = delete;
    Version(Version&& other) = delete;
    Version& operator=(Version&& other) = delete;
    ~Version() = delete;

    static MiKTeX::Core::LibraryVersion GetLibraryVersion()
    {
        return MiKTeX::Core::LibraryVersion("miktex-archive", Header::GetName(), Header::GetVersion().ToString(), Runtime::GetVersion().ToString());
    }
};

MIKTEX_ARCHIVE_VI_END_NAMESPACE;
